<?xml version="1.0" encoding="UTF-8" ?>
<forth xmlns="http://forth.org.ru/ForthML/">
<!-- 2014-05 ruv -->
<!-- $Id$ -->

<comment> Control Flow </comment>

<def name="IF-ELSE" ds=" x  xt-true xt-false -- "> ROT <unless> SWAP </unless> DROP EXECUTE </def>

<alias name="ifelse" word="IF-ELSE"/>


<def name="IF-ELSE-"  ds=" xt1 xt2 flag -- "><unless> SWAP </unless> DROP EXECUTE </def>

<alias name="ifelse-"  word="IF-ELSE-"/>



<comment xml:lang="en">
  There are two rationales for the signature of the 'if' function

  Rationale 1. In the case of the IF ELSE THEN structure, the code is fixed, and the flag is the only argument ( flag -- ).
  / stack diagram without considering the effect of the code /
  When passing potentially fixed values through the stack, it is more convenient to place them above other arguments
  (i.e., on the top of the stack).
  This gives the signature ( flag xt1 xt2 -- )

  Rationale 2. Similar functions in other languages accept the flag as the first argument.
  And in the structure, the flag is also the first argument (since it's the only one). This order is more readable when the flag calculation is fixed.
  This gives the signature ( xt1 xt2 flag -- )

  The first variant was chosen as the base (as in Factor).
  The second variant is provided as an alternative.
</comment>


</forth>
